---
import { Icon } from "astro-icon/components";
import type { GitHubContentItem } from "@/pages/admin/_lib/github";

interface Props {
	entries: GitHubContentItem[];
}

const { entries } = Astro.props;
---

{
	entries.length === 0 ? (
		<div class="bg-base-200/50 flex flex-col items-center justify-center rounded-xl py-12">
			<Icon name="tabler:file-off" class="text-base-content/30 size-10" />
			<p class="text-base-content/50 mt-2 text-sm">No posts</p>
		</div>
	) : (
		<ul class="divide-base-200 divide-y">
			{entries.map((item) => (
				<li class="active:bg-base-200/50 flex items-center justify-between gap-2 py-2.5">
					<span class="truncate font-mono text-sm">{item.name}</span>
					<div class="flex shrink-0 items-center gap-1">
						<a
							href={`/admin/edit/${item.name}`}
							class="btn btn-primary btn-circle btn-sm"
							title="Edit"
						>
							<Icon name="tabler:edit" class="size-4" />
						</a>
						<a
							href={`/admin/preview/${item.name}`}
							class="btn btn-ghost btn-circle btn-sm"
							title="Preview"
						>
							<Icon name="tabler:eye" class="size-4" />
						</a>
					</div>
				</li>
			))}
		</ul>
	)
}
