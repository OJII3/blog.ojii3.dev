---
interface Props {
	value: string | Date;
}

const { value } = Astro.props;

// Format date to YYYY-MM-DDTHH:mm for datetime-local input
const dateVal = value instanceof Date ? value : new Date(value);
const pad = (n: number) => n.toString().padStart(2, "0");
const formatted =
	!isNaN(dateVal.getTime())
		? `${dateVal.getFullYear()}-${pad(dateVal.getMonth() + 1)}-${pad(dateVal.getDate())}T${pad(dateVal.getHours())}:${pad(dateVal.getMinutes())}`
		: "";
---

<div class="flex flex-col gap-2">
	<label for="date" class="text-gray-7 text-sm font-bold">Date</label>
	<input
		type="datetime-local"
		id="date"
		name="date"
		value={formatted}
		class="border-gray-2 bg-gray-0 text-gray-7 focus:ring-accent-500 flex-1 rounded border p-2 font-mono text-sm outline-none focus:ring-2"
		required
	/>
</div>
